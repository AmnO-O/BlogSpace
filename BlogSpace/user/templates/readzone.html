{% extends "layout.html" %}

{% block title %} Read Zone - BlogSpace {% endblock %}

{% block css %}
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="{{ url_for('user.static', filename='readzone.css') }}">
{% endblock %}

{% block content %}
<div class="readzone-container">
  <!-- Sidebar - Filter & Navigation -->
  <aside class="readzone-sidebar">
    <div class="sidebar-header">
      <h3><i class="fas fa-book-open"></i> Explore</h3>
    </div>

    <!-- Search -->
    <div class="sidebar-section">
      <div class="search-box">
        <i class="fas fa-search"></i>
        <input 
          type="text" 
          id="search-input" 
          placeholder="Search posts..."
          class="search-input"
        >
      </div>
    </div>

    <!-- Categories Filter -->
    <div class="sidebar-section">
      <h4>Categories</h4>
      <ul class="category-list">
        <li>
          <label class="checkbox-label">
            <input type="checkbox" class="category-filter" value="all" checked>
            <span>All Categories</span>
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" class="category-filter" value="technology">
            <span><i class="fas fa-laptop"></i> Technology</span>
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" class="category-filter" value="lifestyle">
            <span><i class="fas fa-heart"></i> Lifestyle</span>
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" class="category-filter" value="business">
            <span><i class="fas fa-briefcase"></i> Business</span>
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" class="category-filter" value="travel">
            <span><i class="fas fa-globe"></i> Travel</span>
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" class="category-filter" value="education">
            <span><i class="fas fa-graduation-cap"></i> Education</span>
          </label>
        </li>
      </ul>
    </div>

    <!-- Sort Options -->
    <div class="sidebar-section">
      <h4>Sort By</h4>
      <div class="sort-options">
        <button class="sort-btn active" data-sort="newest">
          <i class="fas fa-clock"></i> Newest
        </button>
        <button class="sort-btn" data-sort="trending">
          <i class="fas fa-fire"></i> Trending
        </button>
        <button class="sort-btn" data-sort="popular">
          <i class="fas fa-star"></i> Popular
        </button>
      </div>
    </div>

    <!-- Stats -->
    <div class="sidebar-section stats-box">
      <h4>Stats</h4>
      <div class="stat-item">
        <span class="stat-label">Total Posts</span>
        <span class="stat-value" id="total-posts">0</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Reading</span>
        <span class="stat-value" id="posts-reading">0</span>
      </div>
    </div>

    <!-- Quick Links -->
    <div class="sidebar-section">
      <a href="{{url_for('user.dashboard')}}" class="btn btn-secondary btn-small" style="width: 100%; text-align: center;">
        <i class="fas fa-arrow-left"></i> Back to Dashboard
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="readzone-main">
    <!-- Header -->
    <div class="readzone-header">
      <h1><i class="fas fa-book-open"></i> Read Zone</h1>
      <p>Discover interesting posts from the community</p>
      <div class="header-controls">
        <span class="posts-count">Showing <span id="showing-count">0</span> posts</span>
      </div>
    </div>

    <!-- Posts List -->
    <div class="posts-container" id="posts-container">
      <!-- Posts will be loaded here by JavaScript -->
    </div>

    <!-- No Results Message -->
    <div id="no-results" class="no-results" style="display: none;">
      <i class="fas fa-search"></i>
      <h3>No posts found</h3>
      <p>Try adjusting your filters or search terms</p>
      <button class="btn btn-primary btn-small" id="reset-filters">
        <i class="fas fa-redo"></i> Reset Filters
      </button>
    </div>

    <!-- Load More Button -->
    <div class="load-more-container" id="load-more-container" style="display: none;">
      <button class="btn btn-outline btn-large" id="load-more-btn">
        <i class="fas fa-chevron-down"></i> Load More Posts
      </button>
    </div>
  </main>

  <!-- Post Detail Modal -->
  <div id="post-modal" class="post-modal">
    <div class="modal-overlay" id="modal-overlay"></div>
    <div class="modal-content">
      <button class="modal-close" id="modal-close">
        <i class="fas fa-times"></i>
      </button>
      
      <div class="modal-header">
        <img id="modal-featured-image" src="" alt="Featured Image" class="modal-featured-image">
      </div>

      <div class="modal-body">
        <div class="modal-meta">
          <span class="modal-author">
            <i class="fas fa-user-circle"></i> <span id="modal-author-name"></span>
          </span>
          <span class="modal-date">
            <i class="fas fa-calendar"></i> <span id="modal-date"></span>
          </span>
          <span class="modal-category badge">
            <span id="modal-category"></span>
          </span>
        </div>

        <h2 id="modal-title"></h2>

        <div class="modal-actions">
          <button class="action-btn" id="modal-like-btn">
            <i class="fas fa-heart"></i> <span id="modal-likes">0</span>
          </button>
          <button class="action-btn" id="modal-bookmark-btn">
            <i class="fas fa-bookmark"></i> Bookmark
          </button>
          <button class="action-btn" id="modal-share-btn">
            <i class="fas fa-share-alt"></i> detail
          </button>
        </div>

        <div class="modal-content-text" id="modal-content"></div>

        <div class="modal-tags" id="modal-tags"></div>

        <!-- Comments Section -->
        <div class="comments-section">
          <h3>Comments</h3>
          
          <div class="comment-form">
            <textarea id="comment-input" placeholder="Share your thoughts..." class="form-textarea"></textarea>
            <button class="btn btn-primary btn-small" id="submit-comment-btn">Post Comment</button>
          </div>

          <div class="comments-list" id="comments-list">
            <!-- Comments will be loaded here -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block script %}
<script src="{{ url_for('user.static', filename='readzone.js') }}"></script>
{% endblock %}